!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);var o=(e,t,n)=>{var o;return{title:e,description:t,tasks:o=null!=n?n:[],addTask:e=>{o.push(e)},removeTask:e=>(o.splice(e,1),e)}};var r=(e,t)=>{var n=!1;return{text:e,dueDate:t,completed:n,getStatus:()=>n,getDate:()=>t,toggleCompleted:()=>{n=1!=n}}},a=0;const c=e=>{const t=document.querySelector(".projects");for(document.querySelector("h2.container-title").textContent=`Projects (${e.length})`;t.hasChildNodes();)t.removeChild(t.lastChild);if(e.length>0)e.forEach((e,n)=>{let o=document.createElement("div");o.classList.add("project");let r=document.createElement("p");r.textContent=e.title,o.appendChild(r),o.setAttribute("data-number",n),o.addEventListener("click",e=>{a=e.target.closest("div").dataset.number,l(a)}),t.appendChild(o)});else{let e=document.createElement("div");e.classList.add("project");let n=document.createElement("p");n.textContent="There are no projects, create one below.",e.appendChild(n),t.appendChild(e)}},l=e=>{const t=document.querySelector(".tasks-container");for(;t.hasChildNodes();)t.removeChild(t.lastChild);var n=document.createElement("h3");n.classList.add("project-title");var o=document.createElement("p");if(o.classList.add("project-description"),null!=k()[e]){const i=document.createElement("button");i.classList.add("btn","danger-btn"),i.textContent="Delete",i.addEventListener("click",v);var r=document.createElement("div");r.classList.add("flex-container"),r.append(n,i);var a=document.createElement("h4");a.classList.add("tasks-header");var c=document.createElement("ol");c.classList.add("tasks");var l=document.createElement("button");l.classList.add("btn","new-task-btn"),l.textContent="+",l.addEventListener("click",()=>{s("task")});var d=k()[e];0==d.tasks.length?a.textContent="There are no tasks for this project. To add tasks, click the plus icon below.":a.textContent=`Tasks (${d.tasks.length})`,d.tasks.forEach((t,n)=>{let o=document.createElement("li");o.classList.add("task"),o.setAttribute("data-number",n);let r=document.createElement("p");r.textContent=t.text;let a=document.createElement("div");a.classList.add("task-details");let l=document.createElement("p");l.classList.add("task-date"),l.textContent="Due: "+t.getDate();let s=document.createElement("div");s.classList.add("completed-container"),s.addEventListener("click",t=>{t.target.parentNode.parentNode.dataset.number;y(e,n),s.classList.toggle("completed")}),1==t.getStatus()&&s.classList.add("completed");let d=document.createElement("button");d.classList.add("btn","danger-btn"),d.textContent="Delete",d.addEventListener("click",t=>{let n=t.target.parentNode.dataset.number;f(e,n)}),a.append(l,s),o.append(r,a,d),c.appendChild(o)}),n.textContent=d.title,o.textContent=d.description,t.append(r,o,a,c,l)}else t.innerHTML="",n.textContent="No project selected",o.textContent="To select a project, click on the project name in the project bar on the left.",t.append(n,o)},s=e=>{var t;"project"==e?t=document.querySelector(".project-form"):"task"==e&&(t=document.querySelector(".task-form")),1==getComputedStyle(t).opacity?(t.style.opacity="0",t.style.pointerEvents="none"):(t.style.opacity="100%",t.style.pointerEvents="all")},d=()=>{const e=document.querySelector("#project-title"),t=document.querySelector("#project-description"),n=document.querySelector("#task-text");e.value="",t.value="",n.value=""},i=()=>a;var u=[];const p=()=>{const e=document.querySelector("#project-title"),t=document.querySelector("#project-description");u.push(o(e.value,t.value)),localStorage.setItem("projects",JSON.stringify(u)),e.value="",t.value="",s("project"),c(u),d()},m=e=>{const t=document.querySelector("#task-text"),n=document.querySelector("#task-date");console.log(u[e]),u[e].addTask(r(t.value,n.value)),localStorage.setItem("projects",JSON.stringify(u));JSON.parse(localStorage.getItem("projects"));l(e),s("task"),d()},v=()=>{u.splice(i(),1),localStorage.setItem("projects",JSON.stringify(u)),c(u),l(i())},f=(e,t)=>{u[e].removeTask(t),localStorage.setItem("projects",JSON.stringify(u)),l(e)},g=()=>{var e=JSON.parse(localStorage.getItem("projects"));null!=e?e.forEach(e=>{u.push(o(e.title,e.description,e.tasks))}):(u.push(o("Default","This is the default project")),localStorage.setItem("projects",JSON.stringify(u))),console.log(u),c(u),l(0)},k=()=>u,y=(e,t)=>{u[e].tasks[t].toggleCompleted()};(()=>{const e=document.querySelector(".new-project-btn"),t=document.querySelector("#addProjectBtn");e.addEventListener("click",()=>{s("project")}),t.addEventListener("click",p);const n=document.querySelector(".new-task-btn"),o=document.querySelector("#addTaskBtn");null!=n&&n.addEventListener("click",()=>{s("task")}),o.addEventListener("click",()=>{m(i())}),g()})()}]);